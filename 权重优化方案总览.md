# å¤šå‘¨æœŸæƒé‡ä¼˜åŒ– - æ–¹æ¡ˆæ€»è§ˆ

## ğŸ¯ ä¸€å¥è¯æ€»ç»“

**é€šè¿‡å†å²æ•°æ®æ‰¾åˆ°1-20å¤©å„å‘¨æœŸæ¶¨å¹…çš„æœ€ä¼˜æƒé‡ï¼Œæå‡é€‰è‚¡èƒœç‡å’Œæ”¶ç›Šã€‚**

---

## ğŸ“Š ä¸‰ç§æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | å¤æ‚åº¦ | è€—æ—¶ | æ•°æ®æ”¯æ’‘ | æ¨èåº¦ |
|-----|-------|------|---------|--------|
| **æ–¹æ¡ˆ1ï¼šç»Ÿè®¡åˆ†æ** | â­ | 5åˆ†é’Ÿ | âœ… ç›¸å…³æ€§ | â­â­â­â­â­ **é¦–é€‰** |
| **æ–¹æ¡ˆ2ï¼šå‚æ•°ä¼˜åŒ–** | â­â­ | 7å¤© | âœ… å›æµ‹ | â­â­â­â­ è¿›é˜¶ |
| **æ–¹æ¡ˆ3ï¼šAIæ¨¡å‹** | â­â­â­â­â­ | 11å‘¨ | âœ… æœºå™¨å­¦ä¹  | â­â­ æœªæ¥ |

---

## æ–¹æ¡ˆ1ï¼šç»Ÿè®¡åˆ†æï¼ˆæœ€ç®€å•ï¼‰â­ **æ¨è**

### æ ¸å¿ƒæ€è·¯
```
è®¡ç®—ç›¸å…³æ€§ â†’ ç›´æ¥å¾—å‡ºæƒé‡ â†’ ç«‹å³å¯ç”¨
```

- è®¡ç®—å„å‘¨æœŸæ¶¨å¹…ä¸æœªæ¥20å¤©æ”¶ç›Šçš„ç›¸å…³ç³»æ•°
- ç›¸å…³æ€§é«˜ = é«˜æƒé‡
- æ— éœ€å¤æ‚ä¼˜åŒ–

### ä½¿ç”¨æ–¹æ³•
```bash
# 1æ­¥è¿è¡Œ
python scripts/simple_weight_calculator.py

# æŸ¥çœ‹ç»“æœ
cat output/weight_analysis.txt
```

### è¾“å‡ºç¤ºä¾‹
```
æœ€å¼ºæ­£ç›¸å…³å‘¨æœŸï¼ˆåŠ¨é‡ï¼‰:
  20æ—¥: 0.2912  â†’ æ¨èé«˜æƒé‡
  19æ—¥: 0.2856
  18æ—¥: 0.2801

è´Ÿç›¸å…³å‘¨æœŸï¼ˆåè½¬ä¿¡å·ï¼‰:
  3æ—¥: -0.0823  â†’ æ¨èè´Ÿæƒé‡ï¼ˆé€¢è·Œä¹°å…¥ï¼‰

æ¨èæƒé‡:
  periods = {15: 13, 16: 13, 17: 13, 18: 14, 19: 14, 20: 14}
```

### ä¼˜åŠ¿
- âœ… **æç®€**ï¼š200è¡Œä»£ç ï¼Œ5åˆ†é’Ÿè¿è¡Œ
- âœ… **ç›´è§‚**ï¼šç›¸å…³ç³»æ•°ä¸€ç›®äº†ç„¶
- âœ… **æ•°æ®é©±åŠ¨**ï¼šåŸºäºå†å²ç»Ÿè®¡ï¼Œä¸æ˜¯æ‹è„‘è¢‹
- âœ… **ç«‹å³å¯ç”¨**ï¼šç›´æ¥å¾—åˆ°æƒé‡

### åŠ£åŠ¿
- âš ï¸ æœªè€ƒè™‘æƒé‡ç»„åˆçš„äº¤äº’æ•ˆåº”
- âš ï¸ éœ€è¦å®šæœŸæ›´æ–°ï¼ˆæ¯å­£åº¦ï¼‰

### é€‚ç”¨åœºæ™¯
- âœ… å¿«é€ŸéªŒè¯æƒ³æ³•
- âœ… ä¸æƒ³å†™å¤æ‚ä»£ç 
- âœ… éœ€è¦ç›´è§‚çš„æ•°æ®æ”¯æ’‘

### è¯¦ç»†æ–‡æ¡£
ğŸ“– `æœ€ç®€å•å®ç°æ–¹æ¡ˆ.md`

---

## æ–¹æ¡ˆ2ï¼šå‚æ•°ä¼˜åŒ–ï¼ˆè¿›é˜¶ï¼‰

### æ ¸å¿ƒæ€è·¯
```
å®šä¹‰ç›®æ ‡ â†’ æœç´¢æƒé‡ç©ºé—´ â†’ å›æµ‹éªŒè¯ â†’ æ‰¾åˆ°æœ€ä¼˜ç»„åˆ
```

- ä½¿ç”¨è´å¶æ–¯ä¼˜åŒ–ï¼ˆOptunaï¼‰
- è‡ªåŠ¨æœç´¢20ä¸ªå‘¨æœŸçš„æœ€ä¼˜æƒé‡
- è€ƒè™‘æƒé‡ç»„åˆæ•ˆåº”

### ä½¿ç”¨æ–¹æ³•
```bash
# å¿«é€Ÿæœç´¢ï¼ˆ3ä¸ªå‘¨æœŸï¼‰
python scripts/quick_weight_search.py

# å…¨é¢ä¼˜åŒ–ï¼ˆ20ä¸ªå‘¨æœŸï¼‰
python scripts/full_optimization.py --trials 200
```

### ä¼˜åŠ¿
- âœ… è‡ªåŠ¨åŒ–ï¼šæ— éœ€æ‰‹åŠ¨è°ƒå‚
- âœ… å…¨é¢ï¼šè€ƒè™‘20ä¸ªå‘¨æœŸçš„ç»„åˆ
- âœ… æ™ºèƒ½ï¼šè´å¶æ–¯ä¼˜åŒ–ï¼Œæ ·æœ¬æ•ˆç‡é«˜

### åŠ£åŠ¿
- âš ï¸ éœ€è¦é›†æˆå›æµ‹ç³»ç»Ÿ
- âš ï¸ è¿è¡Œæ—¶é—´è¾ƒé•¿ï¼ˆæ•°å°æ—¶ï¼‰
- âš ï¸ å¯èƒ½è¿‡æ‹Ÿåˆ

### é€‚ç”¨åœºæ™¯
- âœ… æ–¹æ¡ˆ1éªŒè¯æœ‰æ•ˆå
- âœ… æƒ³è¦å…¨é¢ä¼˜åŒ–20ä¸ªå‘¨æœŸ
- âœ… æœ‰å›æµ‹ç³»ç»Ÿ

### è¯¦ç»†æ–‡æ¡£
ğŸ“– `å¤šå‘¨æœŸæƒé‡å‚æ•°ä¼˜åŒ–æ–¹æ¡ˆ.md`
ğŸ“– `å¿«é€Ÿå¼€å§‹æŒ‡å—.md`

---

## æ–¹æ¡ˆ3ï¼šAIæ¨¡å‹ï¼ˆæœªæ¥ï¼‰

### æ ¸å¿ƒæ€è·¯
```
ç‰¹å¾å·¥ç¨‹ â†’ è®­ç»ƒæ¨¡å‹ â†’ å­¦ä¹ æƒé‡ â†’ é¢„æµ‹æœªæ¥
```

- LightGBMç­‰æœºå™¨å­¦ä¹ æ¨¡å‹
- å­¦ä¹ å¤æ‚çš„éçº¿æ€§å…³ç³»
- è‡ªåŠ¨ç‰¹å¾é€‰æ‹©

### ä¼˜åŠ¿
- âœ… å¼ºå¤§ï¼šæ•æ‰å¤æ‚æ¨¡å¼
- âœ… è‡ªåŠ¨ï¼šç‰¹å¾é‡è¦æ€§è‡ªåŠ¨å­¦ä¹ 
- âœ… æ‰©å±•æ€§ï¼šå¯åŠ å…¥æ›´å¤šå› å­

### åŠ£åŠ¿
- âš ï¸ å¤æ‚ï¼šéœ€è¦MLçŸ¥è¯†
- âš ï¸ è€—æ—¶ï¼š11å‘¨å®æ–½
- âš ï¸ ç»´æŠ¤æˆæœ¬é«˜

### é€‚ç”¨åœºæ™¯
- âœ… æ–¹æ¡ˆ1ã€2éƒ½éªŒè¯æœ‰æ•ˆ
- âœ… æƒ³è¦æè‡´æ€§èƒ½
- âœ… æœ‰MLå›¢é˜Ÿ

### è¯¦ç»†æ–‡æ¡£
ğŸ“– `AIä¼˜åŒ–å¤šå‘¨æœŸé€‰è‚¡æ¨¡å‹æ–¹æ¡ˆ.md`

---

## ğŸš€ æ¨èå®æ–½è·¯å¾„

### é˜¶æ®µ1ï¼šç«‹å³å¼€å§‹ï¼ˆä»Šå¤©ï¼Œ5åˆ†é’Ÿï¼‰

```bash
# è¿è¡Œæ–¹æ¡ˆ1ï¼šç»Ÿè®¡åˆ†æ
python scripts/simple_weight_calculator.py
```

**è¾“å‡º**ï¼š
- å„å‘¨æœŸç›¸å…³ç³»æ•°
- 3ç§æ¨èæƒé‡æ–¹æ¡ˆ
- ä¸å½“å‰ç­–ç•¥å¯¹æ¯”

**å†³ç­–ç‚¹**ï¼š
- âœ… å¦‚æœå‘ç°æ˜æ˜¾è§„å¾‹ï¼ˆå¦‚15-20æ—¥å¼ºæ­£ç›¸å…³ï¼‰â†’ ç»§ç»­é˜¶æ®µ2
- âŒ å¦‚æœç›¸å…³æ€§éƒ½å¾ˆå¼± â†’ é‡æ–°æ€è€ƒç­–ç•¥

---

### é˜¶æ®µ2ï¼šå›æµ‹éªŒè¯ï¼ˆæœ¬å‘¨ï¼Œ2-3å¤©ï¼‰

ä½¿ç”¨æ–¹æ¡ˆ1å¾—åˆ°çš„æƒé‡è¿›è¡Œå›æµ‹ï¼š

```python
# å½“å‰ç­–ç•¥
current_weights = {1: 30, 3: -70, 20: 150}
current_result = backtest(current_weights, '2023-01-01', '2024-12-31')

# æ•°æ®é©±åŠ¨æƒé‡ï¼ˆæ–¹æ¡ˆ1ç»“æœï¼‰
optimized_weights = {15: 13, 16: 13, 17: 13, 18: 14, 19: 14, 20: 14}
optimized_result = backtest(optimized_weights, '2023-01-01', '2024-12-31')

# å¯¹æ¯”
if optimized_result['win_rate'] > current_result['win_rate'] + 0.05:
    print("âœ… æå‡æ˜æ˜¾ï¼Œç»§ç»­é˜¶æ®µ3")
```

**å†³ç­–ç‚¹**ï¼š
- âœ… èƒœç‡æå‡ â‰¥ 5% â†’ ç»§ç»­é˜¶æ®µ3
- âš ï¸ æå‡ < 5% â†’ è€ƒè™‘æ–¹æ¡ˆ2å…¨é¢ä¼˜åŒ–
- âŒ æ— æå‡/ä¸‹é™ â†’ åˆ†æåŸå› 

---

### é˜¶æ®µ3ï¼šå®ç›˜æµ‹è¯•ï¼ˆä¸‹å‘¨ï¼Œ1-2å‘¨ï¼‰

å°èµ„é‡‘A/Bæµ‹è¯•ï¼š

| ç»„åˆ« | èµ„é‡‘å æ¯” | æƒé‡ | è§‚å¯ŸæœŸ |
|-----|---------|------|--------|
| Aç»„ | 30% | å½“å‰æƒé‡ | 2å‘¨ |
| Bç»„ | 70% | ä¼˜åŒ–æƒé‡ | 2å‘¨ |

**å†³ç­–ç‚¹**ï¼š
- âœ… Bç»„è¡¨ç°ä¼˜äºAç»„ â†’ å…¨é¢æ¨å¹¿
- âš ï¸ è¡¨ç°ç›¸å½“ â†’ ç»§ç»­è§‚å¯Ÿ
- âŒ Bç»„è¡¨ç°å·® â†’ å›åˆ°é˜¶æ®µ2åˆ†æ

---

### é˜¶æ®µ4ï¼šæŒç»­ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰

**å¦‚æœæ–¹æ¡ˆ1æ•ˆæœå¾ˆå¥½**ï¼š
- å®šæœŸæ›´æ–°ï¼ˆæ¯å­£åº¦é‡æ–°è®¡ç®—ç›¸å…³æ€§ï¼‰
- ç›‘æ§å®ç›˜è¡¨ç°
- å¸‚åœºå˜åŒ–æ—¶åŠæ—¶è°ƒæ•´

**å¦‚æœæƒ³è¦è¿›ä¸€æ­¥æå‡**ï¼š
- ä½¿ç”¨æ–¹æ¡ˆ2ï¼šå…¨é¢ä¼˜åŒ–20ä¸ªå‘¨æœŸ
- æ¢ç´¢æ–¹æ¡ˆ3ï¼šAIæ¨¡å‹

---

## ğŸ“ æ–‡ä»¶å¯¼èˆª

### å¿…è¯»æ–‡æ¡£ï¼ˆæŒ‰é¡ºåºï¼‰
1. **æœ¬æ–‡æ¡£**ï¼ˆæƒé‡ä¼˜åŒ–æ–¹æ¡ˆæ€»è§ˆ.mdï¼‰ - æ€»è§ˆ
2. **æœ€ç®€å•å®ç°æ–¹æ¡ˆ.md** - æ–¹æ¡ˆ1è¯¦ç»†è¯´æ˜
3. **output/weight_analysis.txt** - æ–¹æ¡ˆ1è¿è¡Œç»“æœ

### è¿›é˜¶æ–‡æ¡£ï¼ˆéœ€è¦æ—¶é˜…è¯»ï¼‰
4. **å¤šå‘¨æœŸæƒé‡å‚æ•°ä¼˜åŒ–æ–¹æ¡ˆ.md** - æ–¹æ¡ˆ2æŠ€æœ¯æ–¹æ¡ˆ
5. **å¿«é€Ÿå¼€å§‹æŒ‡å—.md** - æ–¹æ¡ˆ2å®æ–½æŒ‡å—

### æœªæ¥å‚è€ƒ
6. **AIä¼˜åŒ–å¤šå‘¨æœŸé€‰è‚¡æ¨¡å‹æ–¹æ¡ˆ.md** - æ–¹æ¡ˆ3è®¾è®¡
7. **å‚æ•°ä¼˜åŒ–é¡¹ç›®æ€»ç»“.md** - æ‰€æœ‰æ–¹æ¡ˆæ±‡æ€»

### ä»£ç æ–‡ä»¶
```
scripts/
â”œâ”€â”€ simple_weight_calculator.py    # æ–¹æ¡ˆ1ï¼ˆæ¨èå…ˆç”¨ï¼‰
â””â”€â”€ quick_weight_search.py         # æ–¹æ¡ˆ2å¿«é€Ÿç‰ˆ

optimization/
â””â”€â”€ backtest_adapter.py            # æ–¹æ¡ˆ2é€‚é…å™¨
```

---

## ğŸ“Š é¢„æœŸæ•ˆæœå¯¹æ¯”

### æ–¹æ¡ˆ1ï¼šç»Ÿè®¡åˆ†æ

| æŒ‡æ ‡ | å½“å‰ç­–ç•¥ | é¢„æœŸ | æ”¹è¿› |
|-----|---------|------|------|
| èƒœç‡ | 60% | 65-70% | +8% |
| è¶…é¢æ”¶ç›Š | 3.5% | 5-6% | +43% |
| å®æ–½æˆæœ¬ | - | 5åˆ†é’Ÿ | - |

### æ–¹æ¡ˆ2ï¼šå‚æ•°ä¼˜åŒ–

| æŒ‡æ ‡ | å½“å‰ç­–ç•¥ | é¢„æœŸ | æ”¹è¿› |
|-----|---------|------|------|
| èƒœç‡ | 60% | 70-75% | +17% |
| è¶…é¢æ”¶ç›Š | 3.5% | 6-8% | +86% |
| å®æ–½æˆæœ¬ | - | 7å¤© | - |

### æ–¹æ¡ˆ3ï¼šAIæ¨¡å‹

| æŒ‡æ ‡ | å½“å‰ç­–ç•¥ | é¢„æœŸ | æ”¹è¿› |
|-----|---------|------|------|
| èƒœç‡ | 60% | 75-80% | +25% |
| è¶…é¢æ”¶ç›Š | 3.5% | 8-10% | +143% |
| å®æ–½æˆæœ¬ | - | 11å‘¨ | - |

---

## â“ å¿«é€Ÿå†³ç­–æ ‘

```
å¼€å§‹
  â†“
æƒ³è¦å¿«é€ŸéªŒè¯æƒ³æ³•ï¼Ÿ
  â”œâ”€ æ˜¯ â†’ æ–¹æ¡ˆ1ï¼ˆ5åˆ†é’Ÿï¼‰
  â””â”€ å¦ â†’ å·²æœ‰å……è¶³æ—¶é—´ï¼Ÿ
           â”œâ”€ æ˜¯ï¼ˆâ‰¥7å¤©ï¼‰â†’ æ–¹æ¡ˆ2
           â””â”€ å¦ â†’ å…ˆç”¨æ–¹æ¡ˆ1

æ–¹æ¡ˆ1è¿è¡Œå®Œæˆ
  â†“
æ•ˆæœæå‡ â‰¥ 5%ï¼Ÿ
  â”œâ”€ æ˜¯ â†’ å›æµ‹éªŒè¯ â†’ å®ç›˜æµ‹è¯• âœ…
  â””â”€ å¦ â†’ æƒ³è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Ÿ
           â”œâ”€ æ˜¯ â†’ æ–¹æ¡ˆ2
           â””â”€ å¦ â†’ ä¿æŒå½“å‰ç­–ç•¥

æ–¹æ¡ˆ2éªŒè¯å®Œæˆ
  â†“
æ•ˆæœæå‡ â‰¥ 10%ï¼Ÿ
  â”œâ”€ æ˜¯ â†’ å®ç›˜æµ‹è¯• âœ…
  â””â”€ å¦ â†’ æƒ³æŠ•å…¥æ›´å¤šï¼Ÿ
           â”œâ”€ æ˜¯ â†’ æ–¹æ¡ˆ3ï¼ˆé•¿æœŸé¡¹ç›®ï¼‰
           â””â”€ å¦ â†’ ä½¿ç”¨æ–¹æ¡ˆ1ç»“æœ
```

---

## ğŸ ç«‹å³å¼€å§‹

### 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒï¼ˆæ–¹æ¡ˆ1ï¼‰

```bash
# 1. è¿è¡Œè„šæœ¬
python scripts/simple_weight_calculator.py

# 2. æŸ¥çœ‹æŠ¥å‘Šï¼ˆä¼šè‡ªåŠ¨æ‰“å°åˆ°ç»ˆç«¯ï¼‰
# åŒæ—¶ä¿å­˜åˆ°ï¼šoutput/weight_analysis.txt

# 3. è®°å½•æ¨èæƒé‡
# ä¾‹å¦‚ï¼šperiods = {15: 13, 16: 13, 17: 13, 18: 14, 19: 14, 20: 14}

# 4. ä¿®æ”¹ç­–ç•¥ï¼ˆå¯é€‰ï¼‰
# ç¼–è¾‘ core/signal.py ç¬¬65è¡Œ
# å°†æ¨èæƒé‡æ›¿æ¢è¿›å»

# 5. å›æµ‹éªŒè¯
# è¿è¡Œä½ çš„å›æµ‹ç³»ç»Ÿï¼Œå¯¹æ¯”æ•ˆæœ
```

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

### é‡åˆ°é—®é¢˜
- æ–¹æ¡ˆ1æ— æ³•è¿è¡Œï¼ŸæŸ¥çœ‹ `æœ€ç®€å•å®ç°æ–¹æ¡ˆ.md` ç¬¬ä¸ƒç« 
- æ–¹æ¡ˆ2é›†æˆå›°éš¾ï¼ŸæŸ¥çœ‹ `å¿«é€Ÿå¼€å§‹æŒ‡å—.md` ç¬¬å››ç« 
- ä¸çŸ¥é“é€‰å“ªä¸ªï¼Ÿä»æ–¹æ¡ˆ1å¼€å§‹ï¼

### æŠ€æœ¯æ”¯æŒ
- è¯¦ç»†æ–‡æ¡£ï¼šæ¯ä¸ªæ–¹æ¡ˆéƒ½æœ‰å¯¹åº”çš„MDæ–‡ä»¶
- ä»£ç æ³¨é‡Šï¼šæ‰€æœ‰å‡½æ•°éƒ½æœ‰docstring
- ç¤ºä¾‹è¾“å‡ºï¼šæ–‡æ¡£ä¸­æœ‰å®Œæ•´çš„è¾“å‡ºç¤ºä¾‹

---

## âœ… æ£€æŸ¥æ¸…å•

å¼€å§‹å‰è¯·ç¡®è®¤ï¼š

**æ–¹æ¡ˆ1ï¼ˆæœ€ç®€å•ï¼‰**ï¼š
- [ ] å·²å®‰è£…Pythonå’ŒåŸºç¡€åº“ï¼ˆpandas, numpyï¼‰
- [ ] ç†è§£ç›¸å…³ç³»æ•°çš„å«ä¹‰
- [ ] å‡†å¤‡å¥½æŸ¥çœ‹åˆ†ææŠ¥å‘Š

**æ–¹æ¡ˆ2ï¼ˆè¿›é˜¶ï¼‰**ï¼š
- [ ] æ–¹æ¡ˆ1å·²éªŒè¯æœ‰æ•ˆ
- [ ] æœ‰å¯ç”¨çš„å›æµ‹ç³»ç»Ÿ
- [ ] å®‰è£…äº†Optunaï¼ˆ`pip install optuna`ï¼‰

**æ–¹æ¡ˆ3ï¼ˆæœªæ¥ï¼‰**ï¼š
- [ ] æ–¹æ¡ˆ1ã€2éƒ½å·²éªŒè¯
- [ ] æœ‰MLå›¢é˜Ÿæ”¯æŒ
- [ ] æœ‰å……è¶³çš„æ—¶é—´ï¼ˆ11å‘¨ï¼‰

---

**å»ºè®®ï¼šå…ˆè¿è¡Œæ–¹æ¡ˆ1ï¼ˆ5åˆ†é’Ÿï¼‰ï¼Œçœ‹åˆ°æ•°æ®å†å†³å®šï¼** ğŸš€

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**åˆ›å»ºæ—¥æœŸ**ï¼š2024-02-07
**æœ€åæ›´æ–°**ï¼š2024-02-07
